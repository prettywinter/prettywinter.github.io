---
title: 设计模式之策略模式
categories: Skill
tags:
  - 设计模式
  - 策略模式
abbrlink: 99c8c8b1
---

策略模式也是非常常用的一种模式，使用策略模式可以轻松扩展第三方服务，非常适合 if 比较多的情况。为什么这么说呢？主要是它和模板模式比较像，这样说区别比较明显。

<!-- more -->

## 策略模式

顾名思义，策略模式使用时至少有两种不同的策略（简单理解为两个 if），所以当根据多个不同的条件走不同的分支时非常灵活，而且方便扩展。策略模式是符合开闭原则的。

### 模式举例

以快递举例吧，比如我国有很多的快递公司：京东、韵达、圆通、中通、申通等等。当你的系统集成这些服务时，在用户下单的时候，需要根据条件去选择不同的快递，每家快递的收费情况、运输质量等也是不同的。如果使用 if-else-if 会有大段大段的代码块，后期根据快递公司的业务变动维护自己的系统要改一些地方，这时候就比较头疼了。

这个时候就可以考虑使用策略模式，定义通用的方法在一个接口中，然后为每家快递公司创建一个类去实现这个接口，为每家快递公司编写自己的实现就可以了。

说到这里，你可能觉得它和模板模式很类似。所以接下来说说区别。

模板方法通常是抽象模板，里面通常包含两部分：通用的算法实现；留给子类实现的抽象方法。

策略模式一般使用接口提供，由具体的实现类编写处理逻辑，提供算法。

可以看到，模板方法模式一般只针对一套算法，对同一套算法的不同实现细节进行抽象；而策略模式对多种算法进行不同的实现，所以策略模式相比模板模式更加灵活，算法与算法之间一般没有冗余代码。
策略模式的关注点更广，模板模式的关注点更深。它们不能相互替换，但可以组合使用。
